<!DOCTYPE html>
<html>
<head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/css/index.css">
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
        }

        input {
            width: 100%;
            height: 50px;
            text-align: left;
            padding-left: 10px;
        }

        .selectionStart {
            padding: 10px;
        }
    </style>
</head>

<body>
    <input class="input" value="Click anywhere in this string to get selectionStart" />
    <div class="simple-keyboard">selectionStart: <span></span></div>
    <script src="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/index.min.js"></script>
    <script>

        document.addEventListener("keyup", caretEventHandler);
        //document.addEventListener("mouseup", caretEventHandler);
        //document.addEventListener("touchend", caretEventHandler);

        function caretEventHandler(event) {
            let targetTagName;
            if (event.target.tagName) {
                targetTagName = event.target.tagName.toLowerCase();
            }

            if (targetTagName === "textarea" || targetTagName === "input") {
                document.querySelector(".simple-keyboard span").innerHTML = event.target.selectionStart;
            }
        }

            //let Keyboard = window.SimpleKeyboard.default;

            //let keyboard = new Keyboard({
            //    onChange: input => onChange(input),
            //    onKeyPress: button => onKeyPress(button)
            //});

            ///**
            // * Update simple-keyboard when input is changed directly
            // */
            //document.querySelector(".input").addEventListener("input", event => {
            //    keyboard.setInput(event.target.value);
            //});

            //console.log(keyboard);

            //function onChange(input) {
            //    document.querySelector(".input").value = input;
            //    console.log("Input changed", input);
            //}

            //function onKeyPress(button) {
            //    console.log("Button pressed", button);

            //    /**
            //     * If you want to handle the shift and caps lock buttons
            //     */
            //    if (button === "{shift}" || button === "{lock}") handleShift();
            //}

            //function handleShift() {
            //    let currentLayout = keyboard.options.layoutName;
            //    let shiftToggle = currentLayout === "default" ? "shift" : "default";

            //    keyboard.setOptions({
            //        layoutName: shiftToggle
            //    });
            //}



    </script>
</body>
</html>
